// EXERCISE 182: E-COMMERCE CART SYSTEM - QUICK REFERENCE GUIDE

================================================================================
PROJECT STRUCTURE
================================================================================

182-ecommerce-cart/
â”œâ”€â”€ src/                          # Source code
â”‚   â”œâ”€â”€ models/                   # Data models (4 classes)
â”‚   â”‚   â”œâ”€â”€ Product.js            # 4 TODOs - validate, stock check, reduce, reviews
â”‚   â”‚   â”œâ”€â”€ CartItem.js           # 4 TODOs - validate, update qty, increment, decrement
â”‚   â”‚   â”œâ”€â”€ Coupon.js             # 3 TODOs - validate, active check, applicability
â”‚   â”‚   â”œâ”€â”€ Cart.js               # 10 TODOs - add/remove/update items, totals, coupon
â”‚   â”‚   â””â”€â”€ index.js              # Export all models
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                 # Business logic (4 services)
â”‚   â”‚   â”œâ”€â”€ ProductService.js     # 6 TODOs - search, filter, price range, ratings
â”‚   â”‚   â”œâ”€â”€ CouponService.js      # 5 TODOs - get by code, validate, available, expiring
â”‚   â”‚   â”œâ”€â”€ CartService.js        # 7 TODOs - add/remove, apply coupon, checkout, restore
â”‚   â”‚   â”œâ”€â”€ StorageService.js     # 5 TODOs - save/load cart, order history, delete
â”‚   â”‚   â””â”€â”€ index.js              # Export all services
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                    # Utilities (pre-filled)
â”‚   â”‚   â”œâ”€â”€ helpers.js            # Formatting, validation, lodash helpers
â”‚   â”‚   â””â”€â”€ validators.js         # Data validation functions
â”‚   â”‚
â”‚   â””â”€â”€ index.js                  # 1 TODO - Initialize sample data
â”‚
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ cart.test.js              # 30+ test stubs to implement
â”‚
â”œâ”€â”€ dist/                         # Build output
â”œâ”€â”€ package.json                  # npm config with dependencies
â”œâ”€â”€ exercise.json                 # Exercise metadata
â””â”€â”€ README.md                     # Full documentation

================================================================================
45 TODOs ORGANIZED BY CATEGORY
================================================================================

MODELS (21 TODOs)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Product.js (4)
  TODO 1:  Validate product data
  TODO 2:  Check if product is in stock
  TODO 3:  Reduce stock when purchased
  TODO 4:  Add product reviews

CartItem.js (4)
  TODO 5:  Validate cart item data
  TODO 6:  Update item quantity
  TODO 7:  Increment quantity
  TODO 8:  Decrement quantity

Coupon.js (3)
  TODO 9:  Validate coupon data
  TODO 10: Check if coupon is active
  TODO 11: Check if coupon applies to cart

Cart.js (10)
  TODO 12: Add item to cart
  TODO 13: Remove item from cart
  TODO 14: Update item quantity
  TODO 15: Calculate subtotal
  TODO 16: Calculate discount amount
  TODO 17: Apply coupon to cart
  TODO 18: Remove coupon from cart
  TODO 19: Calculate shipping cost
  TODO 20: Calculate tax amount
  TODO 21: Calculate final total

SERVICES (23 TODOs)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ProductService.js (6)
  TODO 22: Filter products by category
  TODO 23: Search products by name/description
  TODO 24: Get in-stock products
  TODO 25: Get products by price range
  TODO 26: Get top-rated products
  TODO 27: Get similar products

CouponService.js (5)
  TODO 28: Get coupon by code
  TODO 29: Validate coupon code
  TODO 30: Get available coupons
  TODO 31: Get expiring soon coupons
  TODO 32: Deactivate coupon

CartService.js (7)
  TODO 33: Add product to cart with validation
  TODO 34: Remove item from cart
  TODO 35: Update item quantity
  TODO 36: Apply coupon code
  TODO 37: Remove coupon
  TODO 38: Checkout process
  TODO 39: Restore cart from storage

StorageService.js (5)
  TODO 40: Save cart to localStorage
  TODO 41: Load cart from localStorage
  TODO 42: Save order to storage
  TODO 43: Get order history
  TODO 44: Delete cart

MAIN ENTRY POINT (1 TODO)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  TODO 45: Initialize sample data (products and coupons)

================================================================================
RECOMMENDED IMPLEMENTATION ORDER
================================================================================

PHASE 1: MODELS (Complete validation and basic operations)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Product (TODO 1-4)         â†’ Test with ProductService
â”‚ 2. CartItem (TODO 5-8)        â†’ Test with Cart
â”‚ 3. Coupon (TODO 9-11)         â†’ Test with CartService
â”‚ 4. Cart (TODO 12-21)          â†’ Test complete flow
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     Tests: Run tests/cart.test.js after each model

PHASE 2: SERVICES (Add business logic)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. ProductService (TODO 22-27) â†’ Test search/filter
â”‚ 6. CouponService (TODO 28-32)   â†’ Test coupon management
â”‚ 7. CartService (TODO 33-39)     â†’ Test end-to-end flow
â”‚ 8. StorageService (TODO 40-44)  â†’ Test persistence
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PHASE 3: INTEGRATION
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 9. Main index.js (TODO 45)     â†’ Initialize sample data
â”‚ 10. Complete tests/cart.test.js â†’ All tests passing
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

================================================================================
KEY CONCEPTS
================================================================================

SERVICE-ORIENTED ARCHITECTURE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Models â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Classes that represent entities
Services â”€â”€â”€â”€â”€â”€â”€ Business logic orchestration layer
Utilities â”€â”€â”€â”€â”€â”€ Helper and validation functions
Components â”€â”€â”€â”€ UI layer (future exercises 183-186)

DEPENDENCY FLOW
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
UI â†“
CartService â†â”€ Orchestrator that uses:
  â”œâ”€â†’ ProductService
  â”œâ”€â†’ CouponService
  â”œâ”€â†’ StorageService
  â””â”€â†’ Models (Product, Cart, CartItem, Coupon)

REAL-WORLD PATTERNS USED
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ“ Model-driven design
âœ“ Service layer pattern
âœ“ Dependency injection
âœ“ Separation of concerns
âœ“ Data persistence layer
âœ“ Validation at multiple levels
âœ“ Factory patterns (model creation)
âœ“ Repository pattern (StorageService)

================================================================================
NPM PACKAGES USED
================================================================================

uuid              - Generate unique IDs
lodash-es         - Utility functions (debounce, clone, grouping)
date-fns          - Date manipulation and formatting
jest              - Testing framework
babel-jest        - ES6+ transpiling for tests

Install: npm install
Run tests: npm test

================================================================================
EXAMPLE IMPLEMENTATION SNIPPETS
================================================================================

PRODUCT VALIDATION (TODO 1)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
validate(data) {
  if (typeof data.name !== 'string' || data.name.trim() === '') {
    throw new Error('Product name is required');
  }
  if (typeof data.price !== 'number' || data.price <= 0) {
    throw new Error('Product price must be positive');
  }
  // Add more validations...
}

CART ITEM QUANTITY UPDATE (TODO 6)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
updateQuantity(newQuantity) {
  this.validate(this.product, newQuantity);
  this.quantity = newQuantity;
  return this.quantity;
}

CALCULATE TOTAL (TODO 21)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
getTotal() {
  const subtotal = this.getSubtotal();
  const discount = this.getDiscountAmount();
  const tax = this.getTaxAmount();
  const shipping = this.getShippingCost();
  return subtotal - discount + tax + shipping;
}

SERVICE: GET BY CODE (TODO 28)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
getCouponByCode(code) {
  return this.coupons.find(c => 
    c.code.toUpperCase() === code.toUpperCase()
  ) || null;
}

PERSISTENCE: SAVE CART (TODO 40)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
saveCart(cart, cartId = "current") {
  try {
    const data = JSON.stringify(cart);
    localStorage.setItem(this.cartKeyPrefix + cartId, data);
    return true;
  } catch (e) {
    console.error('Storage quota exceeded', e);
    return false;
  }
}

================================================================================
SUCCESS CRITERIA CHECKLIST
================================================================================

âœ… PROJECT STRUCTURE
    â–¡ All files created in correct directories
    â–¡ No syntax errors in any file
    â–¡ All TODOs clearly marked with comments

âœ… MODELS COMPLETE (21 TODOs)
    â–¡ Product validates and manages stock
    â–¡ CartItem tracks quantity and prices
    â–¡ Coupon validates and applies discounts
    â–¡ Cart manages items and calculates totals

âœ… SERVICES COMPLETE (23 TODOs)
    â–¡ ProductService searches and filters
    â–¡ CouponService validates coupons
    â–¡ CartService orchestrates operations
    â–¡ StorageService persists data

âœ… TESTS PASSING
    â–¡ npm test runs successfully
    â–¡ All assertions pass
    â–¡ No console errors or warnings

âœ… DATA FLOW WORKS
    â–¡ Products can be added to cart
    â–¡ Cart calculates accurate totals
    â–¡ Coupons apply and reduce price
    â–¡ Cart saves to localStorage
    â–¡ Cart loads from localStorage

âœ… CODE QUALITY
    â–¡ Follows separation of concerns
    â–¡ Clear responsibility boundaries
    â–¡ Consistent error handling
    â–¡ Comprehensive documentation

================================================================================
BONUS FEATURES (After Completing All TODOs)
================================================================================

Add any of these to enhance the system:

â–¡ Product variants (size, color, configurations)
â–¡ Gift card system
â–¡ Loyalty points and rewards
â–¡ Wishlists and "save for later"
â–¡ Abandoned cart recovery
â–¡ Personalized recommendations
â–¡ Advanced search filters
â–¡ Analytics and reporting
â–¡ One-click repurchase
â–¡ Bulk operations
â–¡ Inventory reservations
â–¡ Seasonal sales/promotions

================================================================================
QUICK COMMANDS
================================================================================

# Install dependencies
npm install

# Run all tests
npm test

# Watch mode (re-run on file changes)
npm run test:watch

# Coverage report
npm run test:coverage

# ESLint (if configured)
npm run lint

================================================================================
NEXT EXERCISES IN SERIES 39
================================================================================

Exercise 183: UI Components
  - Build React or DOM components using this cart system
  - Create ProductList, CartWidget, CheckoutForm

Exercise 184: Product Display
  - Product detail pages
  - Image galleries
  - Reviews and ratings display

Exercise 185: Discount Management
  - Admin interface for creating/managing coupons
  - Coupon analytics and performance tracking

Exercise 186: Cart Persistence
  - Full localStorage integration
  - Cart recovery and history
  - Order management UI

================================================================================
LEARNING RESOURCES
================================================================================

Architecture & Design Patterns
  https://www.patterns.dev/posts/classic-design-patterns/

Service Layer Pattern
  https://martinfowler.com/eaaCatalog/serviceLayer.html

Separation of Concerns
  https://en.wikipedia.org/wiki/Separation_of_concerns

npm Packages
  https://www.npmjs.com/

localStorage API
  https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage

Jest Testing
  https://jestjs.io/

================================================================================

Start with Product model (TODO 1-4), then work your way up to services!
Each model/service builds on the previous ones. Good luck! ğŸš€
